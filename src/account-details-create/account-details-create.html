
<div class="form-group">
  <label class="control-label">Do you have their account details?</label>
  <div class="checkbox" ng-class="{ 'has-info': !$ctrl.hasDetails }">
    <label>
      <tw-checkbox
        ng-init="$ctrl.hasDetails = true;"
        ng-model="$ctrl.hasDetails"
        ng-true-value="true"
        ng-false-value="false" checked></tw-checkbox>
      Yes, I have their details
    </label>
    <div class="alert alert-info" ng-if="!$ctrl.hasDetails">
      No problem, we'll send your recipient an email asking them where they want
      to receive the money.
    </div>
  </div>
</div>

<account-email-lookup
  on-change="$ctrl.onEmailChange(email)"
  on-use-unique-id="$ctrl.onUseUniqueId(recipient)"
  on-enter-manually="$ctrl.onEnterManually()"
></account-email-lookup>

<div class="form-group"
  ng-if="$ctrl.targetCountries && $ctrl.targetCountries.length > 1">
  <label class="control-label">Which country is their account in?</label>
  <tw-select
    ng-model="$ctrl.model.country"
    options="$ctrl.targetCountries"
    name="targetCountry"
  ></tw-select>
</div>

<form
  ng-if="!$ctrl.uniqueIdRecipient && $ctrl.hasDetails"
  name="accountCreateForm"
  novalidate
  ng-submit="accountCreateForm.$valid && $ctrl.saveAccount()"
  ng-class="{'m-t-panel': $ctrl.alternatives.length > 1}">

  <tw-requirements-form
    ng-if="$ctrl.alternatives"
    model="$ctrl.model"
    requirements="$ctrl.alternatives"
    error-messages="$ctrl.errors"
    validation-messages="$ctrl.validationMessages"
    on-refresh-requirements="$ctrl.refreshRequirements()">
  </tw-requirements-form >
  <input type="submit"
    value="{{ $ctrl.saveButtonLabel }}"
    class="btn btn-block btn-primary" />
</form>
